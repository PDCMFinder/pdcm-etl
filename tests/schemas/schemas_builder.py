from pyspark.sql.types import StructType, StructField, StringType, LongType, ArrayType

def build_search_index_df_schema():
    schema = StructType([
        StructField('pdcm_model_id', LongType(), False),
        StructField('external_model_id', StringType(), False),
        StructField('data_source', StringType(), False),
        StructField('project_name', StringType(), False),
        StructField('provider_name', StringType(), False),
        StructField('model_type', StringType(), False),
        StructField('supplier_type', StringType(), False),
        StructField('catalog_number', StringType(), False),
        StructField('vendor_link', StringType(), False),
        StructField('rrid', StringType(), False),
        StructField('external_ids', StringType(), False),
        StructField('histology', StringType(), False),
        StructField('search_terms', StringType(), False),
        StructField('cancer_system', StringType(), False),
        StructField('dataset_available', ArrayType(StringType()), True),
        StructField('license_name', StringType(), False),
        StructField('license_url', StringType(), False),
        StructField('primary_site', StringType(), False),
        StructField('collection_site', StringType(), False),
        StructField('tumour_type', StringType(), False),
        StructField('cancer_grade', StringType(), False),
        StructField('cancer_grading_system', StringType(), False),
        StructField('cancer_stage', StringType(), False),
        StructField('cancer_staging_system', StringType(), False),
        StructField('patient_age', StringType(), False),
        StructField('patient_age_category', StringType(), False),
        StructField('patient_sex', StringType(), False),
        StructField('patient_history', StringType(), False),
        StructField('patient_ethnicity', StringType(), False),
        StructField('patient_ethnicity_assessment_method', StringType(), False),
        StructField('patient_initial_diagnosis', StringType(), False),
        StructField('patient_age_at_initial_diagnosis', StringType(), False),
        StructField('patient_sample_id', StringType(), False),
        StructField('patient_sample_collection_date', StringType(), False),
        StructField('patient_sample_collection_event', StringType(), False),
        StructField('patient_sample_collection_method', StringType(), False),
        StructField('patient_sample_months_since_collection_1', StringType(), False),
        StructField('patient_sample_gene_mutation_status', StringType(), False),
        StructField('patient_sample_virology_status', StringType(), False),
        StructField('patient_sample_sharable', StringType(), False),
        StructField('patient_sample_treatment_naive_at_collection', StringType(), False),
        StructField('patient_sample_treated_at_collection', StringType(), False),
        StructField('patient_sample_treated_prior_to_collection', StringType(), False),
        StructField('patient_sample_response_to_treatment', StringType(), False),
        StructField('pdx_model_publications', StringType(), False),
        StructField('quality_assurance', StringType(), False),
        StructField('xenograft_model_specimens', StringType(), False),
        StructField('model_images', StringType(), False),
        StructField('markers_with_cna_data', StringType(), False),
        StructField('markers_with_mutation_data', StringType(), False),
        StructField('markers_with_expression_data', StringType(), False),
        StructField('markers_with_biomarker_data', StringType(), False),
        StructField('breast_cancer_biomarkers', StringType(), False),
        StructField('msi_status', StringType(), False),
        StructField('hla_types', StringType(), False),
        StructField('treatment_list', StringType(), False),
        StructField('model_treatment_list', StringType(), False),
        StructField('custom_treatment_type_list', StringType(), False),
        StructField('raw_data_resources', ArrayType(StringType()), True),
        StructField('cancer_annotation_resources', ArrayType(StringType()), True),
        
        StructField('model_name', StringType(), False),
        StructField('model_name_aliases', StringType(), False),
        StructField('growth_properties', StringType(), False),
        StructField('growth_media', StringType(), False),
        StructField('media_id', StringType(), False),
        StructField('plate_coating', StringType(), False),
        StructField('other_plate_coating', StringType(), False),
        StructField('passage_number', StringType(), False),
        StructField('contaminated', StringType(), False),
        StructField('contamination_details', StringType(), False),
        StructField('supplements', StringType(), False),
        StructField('drug', StringType(), False),
        StructField('drug_concentration', StringType(), False)
    ])
    return schema